(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(74)},70:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),i=a.n(r),l=a(15),s=a(45),c=a(17),u=a(40),d=a(2),m="FETCH_NEWS_REQUEST",p="FETCH_NEWS_SUCCESS",f="FETCH_NEWS_FAILURE",g="FETCH_LOGIN_REQUEST",h="FETCH_LOGIN_SUCCESS",v="FETCH_LOGIN_FAILURE",E="FETCH_PROFILE_REQUEST",b="FETCH_PROFILE_SUCCESS",O="FETCH_PROFILE_FAILURE",y="OPEN_MODAL",j="CLOSE_MODAL",L="LOG_OUT",w={newsData:{news:[],error:"",isLoading:!1,pageIsEmpty:!0},validation:{isLogged:!1,error:"",isLoading:!1,userId:0},userProfile:{info:{},error:"",isLoading:!1},logoutModal:{modalIsOpen:!1}},k=Object(c.c)({newsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.newsData,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)({},e,{isLoading:!0,error:""});case f:return Object(d.a)({},e,{isLoading:!1,error:t.payload});case p:return Object(d.a)({},e,{news:[].concat(Object(u.a)(e.news),Object(u.a)(t.payload)),isLoading:!1,error:"",pageIsEmpty:!1});default:return e}},validation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.validation,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(d.a)({},e,{isLogged:!1,isLoading:!0,error:""});case h:return Object(d.a)({},e,{isLogged:!0,isLoading:!1,error:"",userId:t.payload});case v:return Object(d.a)({},e,{isLogged:!1,isLoading:!1,error:t.payload,userId:0});case L:return Object(d.a)({},e,{isLogged:!1,isLoading:!1,error:"",userId:0});default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.userProfile,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(d.a)({},e,{isLoading:!0,error:""});case b:return Object(d.a)({},e,{isLoading:!1,error:"",info:Object(d.a)({},e.info,t.payload)});case O:return Object(d.a)({},e,{isLoading:!1,error:t.payload,info:{}});default:return e}},logoutModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.logoutModal;switch((arguments.length>1?arguments[1]:void 0).type){case y:return Object(d.a)({},e,{modalIsOpen:!0});case j:return Object(d.a)({},e,{modalIsOpen:!1});default:return e}}}),I=a(4),C=a(5),N=a(7),M=a(6),S=a(8),_=a(14),T=a(18),x=a(9),F=a(47),P=a.n(F),H=function(e){function t(){return Object(I.a)(this,t),Object(N.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"page-content"},o.a.createElement("h1",{id:"welcome-message"},"This is home page!"))}}]),t}(n.Component),U=a(20),R=(a(33),a(21)),D=a.n(R),A="https://mysterious-reef-29460.herokuapp.com/api/v1/user-info/1",W="Server error< please try later!";function G(e){return{type:O,payload:W}}function J(e){return function(e){return e({type:E}),D()(A).then(function(e){return e.json()}).then(function(t){return"ok"===t.status?e(function(e){return{type:b,payload:e}}(t.data)):e(G())}).catch(function(t){return e(G())})}}var Q=function(e){var t=e.languageItem;return o.a.createElement("li",{className:"language-item"},t)},q=function(e){var t=e.socialItem;return o.a.createElement("li",null,o.a.createElement("span",null,t.label," "))},B=function(e){function t(){return Object(I.a)(this,t),Object(N.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.userId;this.props.getProfile(e),console.log("getProfile was sent ")}},{key:"render",value:function(){var e=this.props,t=e.userId,a=e.info,n=a.languages&&a.languages.map(function(e,t){return o.a.createElement(Q,{key:t,languageItem:e})}),r=a.social&&a.social.map(function(e,t){return o.a.createElement(q,{key:t,socialItem:e})});return o.a.createElement("div",{className:"page-content"},t?o.a.createElement("div",{className:"userInfo"},o.a.createElement("p",null,"City: ",a.city),o.a.createElement("p",null,"Languages: ",n),o.a.createElement("p",null,"Links: ",r)):o.a.createElement("h3",null,"Please, log in to get your profile information!"))}}]),t}(n.Component),X=Object(U.a)(function(e){return{userId:e.validation.userId,isLogged:e.validation.isLogged,info:e.userProfile.info}},function(e){return{getProfile:function(t){return e(J())}}})(B),Y="https://mysterious-reef-29460.herokuapp.com/api/v1/news",$="An error has occurred while sending the request!";function z(){return function(e){return e({type:m}),D()(Y).then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:p,payload:e}}(t.data))}).catch(function(t){return e({type:f,payload:$})})}}var K=function(e){var t=e.newsItem;return o.a.createElement("span",null,o.a.createElement("h3",null,t.title),o.a.createElement("p",null,t.text))},V=function(){return o.a.createElement("div",null,"Loading...")},Z=function(e){var t=e.errorMsg;return o.a.createElement("div",null,t)},ee=function(e){function t(){return Object(I.a)(this,t),Object(N.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"componentWillMount",value:function(){this.props.pageIsEmpty&&this.props.fetchNews()}},{key:"render",value:function(){var e=this.props,t=e.news,a=e.isLoading,n=e.error,r=t&&t.map(function(e,t){return o.a.createElement(K,{key:t,newsItem:e})});return o.a.createElement("div",{className:"page-content"},a?o.a.createElement(V,null):n?o.a.createElement(Z,{errorMsg:n}):o.a.createElement("span",{id:"news-items-list"},r))}}]),t}(n.Component),te=Object(l.b)(function(e){return{news:e.newsData.news,isLoading:e.newsData.isLoading,error:e.newsData.error,pageIsEmpty:e.newsData.pageIsEmpty}},function(e){return{fetchNews:function(){return e(z())}}})(ee),ae=a(31),ne="https://mysterious-reef-29460.herokuapp.com/api/v1/validate",oe="Check your username / password and try again, please!";function re(e){return{type:v,payload:oe}}function ie(e){return function(t){return t({type:g}),D()(ne,{method:"POST",body:JSON.stringify({email:e.username,password:e.password}),headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return"ok"===e.status?t(function(e){return{type:h,payload:e}}(e.data.id)):t(re())}).catch(function(e){return t(re())})}}var le=function(){return o.a.createElement("div",null,"Loading...")},se=function(e){function t(e,a){var n;return Object(I.a)(this,t),(n=Object(N.a)(this,Object(M.a)(t).call(this,e,a))).state={username:"",password:""},n}return Object(S.a)(t,e),Object(C.a)(t,[{key:"resetFields",value:function(){this.setState({username:"",password:""})}},{key:"handleClick",value:function(e){var t=this.state,a=t.username,n=t.password;this.props.getUserInfo({username:a,password:n}),this.resetFields()}},{key:"handleChange",value:function(e){this.setState(Object(ae.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.isLogged,r=this.state,i=r.username,l=r.password;return o.a.createElement("div",{className:"page-content"},t?o.a.createElement(le,null):o.a.createElement("span",null,o.a.createElement("h1",null,o.a.createElement("div",{className:"form-item"},"Please, log in!")),o.a.createElement("form",{id:"validation-form",method:"post",name:"validationForm"},o.a.createElement("div",{className:"form-item"},o.a.createElement("label",{className:"form-label"},"User Name "),o.a.createElement("input",{type:"text",name:"username",id:"username",value:i,onChange:this.handleChange.bind(this)})),o.a.createElement("div",{className:"form-item"},o.a.createElement("label",{className:"form-label"},"Password "),o.a.createElement("input",{type:"password",name:"password",id:"password",value:l,onChange:this.handleChange.bind(this)})),o.a.createElement("div",{className:"form-item"},o.a.createElement("input",{type:"button",value:"Login",id:"submit-form-button",onClick:this.handleClick.bind(this)}))),o.a.createElement("div",null,!!a&&a),n&&o.a.createElement(x.a,{to:"/profile"})))}}]),t}(n.Component),ce=Object(l.b)(function(e){return{isLogged:e.validation.isLogged,isLoading:e.validation.isLoading,error:e.validation.error}},function(e){return{getUserInfo:function(t){return e(ie(t))}}})(se),ue=a(39),de=a.n(ue);var me={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};de.a.setAppElement("body");var pe=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(N.a)(this,Object(M.a)(t).call(this,e))).state={redirectStayLogged:!1,redirectToHomepage:!1},a}return Object(S.a)(t,e),Object(C.a)(t,[{key:"componentWillMount",value:function(){this.props.openModal(),console.log("openModal was sent from Logout")}},{key:"closeModal",value:function(){this.props.closeModal(),this.setState(function(e){return{redirectStayLogged:!e.redirectStayLogged}})}},{key:"confirmLogout",value:function(e){console.log("click from Modal"),this.props.logOut(),this.setState(function(e){return{redirectToHomepage:!e.redirectToHomepage}})}},{key:"render",value:function(){return o.a.createElement("div",{className:"page-content"},o.a.createElement(de.a,{isOpen:this.props.modalIsOpen,onRequestClose:this.closeModal,style:me,contentLabel:"Example Modal"},o.a.createElement("button",{id:"close-modal-button",onClick:this.closeModal.bind(this)},"X"),o.a.createElement("div",null,"Are you sure you want to log out?"),o.a.createElement("button",{id:"confirm-modal-button",onClick:this.confirmLogout.bind(this)},"Yes, I'm sure!")),this.state.redirectStayLogged&&o.a.createElement(x.a,{to:"/profile"}),this.state.redirectToHomepage&&o.a.createElement(x.a,{to:"/"}))}}]),t}(n.Component),fe=Object(l.b)(function(e){return{modalIsOpen:e.logoutModal.modalIsOpen,userId:e.validation.userId}},function(e){return{openModal:function(){return e((console.log("in openModal action"),{type:y}))},closeModal:function(){return e((console.log("in closeModal action"),{type:j}))},logOut:function(){return e({type:L,payload:0})}}})(pe),ge=(a(70),P()()),he=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(N.a)(this,Object(M.a)(t).call(this,e))).state={modalIsOpen:!1},a.openModal=a.openModal.bind(Object(_.a)(Object(_.a)(a))),a.afterOpenModal=a.afterOpenModal.bind(Object(_.a)(Object(_.a)(a))),a.closeModal=a.closeModal.bind(Object(_.a)(Object(_.a)(a))),a}return Object(S.a)(t,e),Object(C.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"handleClick",value:function(e){e.preventDefault(),console.log("click from app")}},{key:"render",value:function(){var e=this.props.userId;return o.a.createElement(T.a,{history:ge},o.a.createElement("div",{className:"flex-container"},o.a.createElement("div",{className:"flex-container-item"},o.a.createElement(T.b,{exact:!0,to:"/",activeClassName:"selected",className:"link"},"Home")),o.a.createElement("div",{className:"flex-container-item"},o.a.createElement(T.b,{to:"/profile",activeClassName:"selected",className:e?"link":"disabled-link link"},"Profile")),o.a.createElement("div",{className:"flex-container-item"},o.a.createElement(T.b,{to:"/news",activeClassName:"selected",className:"link"},"News")),o.a.createElement("div",{className:e?"flex-container-item validation-route":"flex-container-item"},o.a.createElement(T.b,{to:"/login",activeClassName:"selected",className:"link"},"Log in")),o.a.createElement("div",{className:e?"flex-container-item":"flex-container-item validation-route",onClick:this.handleClick.bind(this)},o.a.createElement(T.b,{to:"/logout",className:"link"},"Log out"))),o.a.createElement(x.b,{exact:!0,path:"/",component:H}),o.a.createElement(x.b,{exact:!0,path:"/profile",component:X}),o.a.createElement(x.b,{exact:!0,path:"/news",component:te}),o.a.createElement(x.b,{exact:!0,path:"/login",component:ce}),o.a.createElement(x.b,{exact:!0,path:"/logout",component:fe}))}}]),t}(n.Component),ve=Object(U.a)(function(e){return{userId:e.validation.userId}})(he);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=[s.a],be=Object(c.d)(k,w,c.a.apply(void 0,Ee));i.a.render(o.a.createElement(l.a,{store:be},o.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.3e40886a.chunk.js.map